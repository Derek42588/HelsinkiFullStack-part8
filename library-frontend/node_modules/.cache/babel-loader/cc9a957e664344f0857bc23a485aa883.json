{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\derek\\\\webdev\\\\HelsinkiFullStack\\\\part8\\\\library-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\derek\\\\webdev\\\\HelsinkiFullStack\\\\part8\\\\library-frontend\\\\src\\\\components\\\\Authors.js\";\nimport React, { useState } from 'react';\nimport Select from 'react-select';\n\nconst Authors = ({\n  authors,\n  show,\n  editAuthor\n}) => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        bornString = _useState4[0],\n        setBornString = _useState4[1];\n\n  let options = [];\n\n  if (authors.data === null) {\n    options = [];\n  } else if (authors.data === undefined) {\n    options = [];\n  } else {\n    authors.data.allAuthors.map(a => {\n      return options.concat({\n        value: a.name,\n        label: a.name\n      });\n    });\n  }\n\n  const _useState5 = useState(options[0]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        selectedOption = _useState6[0],\n        setSelectedOption = _useState6[1];\n\n  if (!show) {\n    return null;\n  }\n\n  if (authors.loading) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"loading...\");\n  }\n\n  const submit = async e => {\n    e.preventDefault();\n    const born = Number(bornString);\n    await editAuthor({\n      variables: {\n        name,\n        born\n      }\n    });\n    setName('');\n    setBornString('');\n  };\n\n  const handleChange = selectedOption => {\n    setSelectedOption({\n      selectedOption\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"authors\"), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"born\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"books\")), authors.data.allAuthors.map(a => React.createElement(\"tr\", {\n    key: a.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, a.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, a.born), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, a.bookCount))))), React.createElement(\"form\", {\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Select, {\n    value: selectedOption,\n    onChange: handleChange,\n    options: options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"name \", React.createElement(\"input\", {\n    value: name,\n    onChange: ({\n      target\n    }) => setName(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"born \", React.createElement(\"input\", {\n    value: bornString,\n    onChange: ({\n      target\n    }) => setBornString(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"change birthyear\")));\n};\n\nexport default Authors;","map":{"version":3,"sources":["C:/Users/derek/webdev/HelsinkiFullStack/part8/library-frontend/src/components/Authors.js"],"names":["React","useState","Select","Authors","authors","show","editAuthor","name","setName","bornString","setBornString","options","data","undefined","allAuthors","map","a","concat","value","label","selectedOption","setSelectedOption","loading","submit","e","preventDefault","born","Number","variables","handleChange","bookCount","target"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Select from 'react-select'\r\n\r\nconst Authors = ({ authors, show, editAuthor }) => {\r\n\r\n  const [name, setName] = useState('')\r\n  const [bornString, setBornString] = useState('')\r\n  let options = []\r\n  if (authors.data === null) {\r\n    options = []\r\n  } else if (authors.data === undefined) {\r\n    options = []\r\n  } else {\r\n    authors.data.allAuthors.map(a => {\r\n     return options.concat({value: a.name, label: a.name})\r\n    })\r\n  }\r\n\r\n  const [selectedOption, setSelectedOption] = useState(options[0])\r\n\r\n  if (!show) {\r\n    return null\r\n  }\r\n  if (authors.loading) {\r\n    return <div>loading...</div>\r\n  }\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault()\r\n    const born = Number(bornString)\r\n    await editAuthor({\r\n      variables: {name, born }\r\n    })\r\n\r\n    setName('')\r\n    setBornString('')\r\n\r\n  }\r\n\r\n  const handleChange = selectedOption => {\r\n    setSelectedOption( { selectedOption })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>authors</h2>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <th></th>\r\n            <th>\r\n              born\r\n            </th>\r\n            <th>\r\n              books\r\n            </th>\r\n          </tr>\r\n          {authors.data.allAuthors.map(a =>\r\n            <tr key={a.name}>\r\n              <td>{a.name}</td>\r\n              <td>{a.born}</td>\r\n              <td>{a.bookCount}</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n      \r\n      <form onSubmit={submit}>\r\n      <Select \r\n        value = {selectedOption}\r\n        onChange = {handleChange}\r\n        options = {options}\r\n      />\r\n          <div>\r\n            name <input\r\n              value={name}\r\n              onChange={({ target }) => setName(target.value)}\r\n            />\r\n          </div>\r\n          <div>\r\n            born <input\r\n              value={bornString}\r\n              onChange={({ target }) => setBornString(target.value)}\r\n            />\r\n          </div>\r\n          <button type='submit'>change birthyear</button>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Authors"]},"metadata":{},"sourceType":"module"}